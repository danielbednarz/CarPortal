<div class="container">
    <div class="d-flex mb-4">
        <div class="btn-group" name="container">
          <button
            class="btn btn-primary"
            btnRadio="Unread"
            [(ngModel)]="container"
            (click)="loadUnreadMessages()"
          >
            <i class="far fa-envelope fa-2x"></i>
          </button>
          <button
            class="btn btn-primary"
            btnRadio="Inbox"
            [(ngModel)]="container"
            (click)="loadInboxMessages()"
          >
            <i class="far fa-envelope-open fa-2x"></i>
          </button>
          <button
            class="btn btn-primary"
            btnRadio="Outbox"
            [(ngModel)]="container"
            (click)="loadMessages()"
          >
            <i class="far fa-paper-plane fa-2x"></i>
          </button>
        </div>
      </div>
  <div class="row" *ngIf="messages?.length === 0">
    <h2>Brak wiadomości</h2>
  </div>

  <div class="row" *ngIf="messages?.length > 0">
    <table class="table table-hover" style="cursor: pointer">
      <tr>
        <th style="width: 20%">Od</th>
        <th style="width: 50%">Wiadomość</th>
        <th style="width: 20%">Wysłano / odebrano</th>
        <th style="width: 10%"></th>
      </tr>
      <tr
        *ngFor="let message of messages"
        routerLink="{{
          container === 'Outbox'
            ? '/members/' + message.recipientUsername
            : '/members/' + message.senderUsername
        }}"
      >
        <td>
          <strong>{{ message.senderUsername }}</strong>
        </td>
        <td>{{ message.content }}</td>
        <td>
          {{ message.messageSentDate | date: "dd.MM.yyyy HH:mm" }} /
          {{
            message.messageReadDate === null
              ? "-"
              : (message.messageReadDate | date: "dd.MM.yyyy HH:mm")
          }}
        </td>
        <td class="text-center">
          <button
            class="btn btn-sm btn-danger"
            data-toggle="tooltip"
            data-placement="bottom"
            title="Usuń wiadomość"
          >
            <i class="fas fa-trash"></i>
          </button>
        </td>
      </tr>
    </table>
  </div>
  <div class="d-flex justify-content-center mt-2" *ngIf="pagination">
    <pagination
      [boundaryLinks]="false"
      [totalItems]="pagination.totalItems"
      [itemsPerPage]="pagination.itemsPerPage"
      [(ngModel)]="pagination.currentPage"
      (pageChanged)="pageChanged($event)"
      previousText="&lsaquo;"
      nextText="&rsaquo;"
      firstText="&laquo;"
      lastText="&raquo;"
      class="my-pagination"
    >
    </pagination>
  </div>
</div>
